(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))m(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&m(i)}).observe(document,{childList:!0,subtree:!0});function l(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function m(o){if(o.ep)return;o.ep=!0;const t=l(o);fetch(o.href,t)}})();window.appLoaded=!0;document.addEventListener("DOMContentLoaded",()=>{const c=document.getElementById("word-display"),r=document.getElementById("feedback"),l=document.getElementById("next-button"),m=document.getElementById("score"),o=document.getElementById("attempts"),t=document.getElementById("answer-input"),i=document.getElementById("submit-button"),v="аеёиоуыэюя";let a=[],p=-1,x=0,L=0,u=!1;async function W(){try{const n=await fetch("/russian-spelling-practice/spelling.txt");if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const s=await n.text();k(s),a.length>0?(B(a),y()):(c.textContent="No words found in file.",l.disabled=!0,i.disabled=!0)}catch(e){console.error("Error loading or parsing words file:",e),c.textContent="Error loading words.",r.textContent="Could not load spelling.txt. Please check the file and console.",r.className="feedback incorrect",l.disabled=!0,i.disabled=!0}}function k(e){const n=e.trim().split(`
`).map(d=>d.trim()).filter(d=>d.length>0),s=[];for(const d of n){const N=d.split(",").map(w=>w.trim());for(const w of N){if(w.length===0)continue;const f=w.toLowerCase(),g=[];for(let h=0;h<f.length;h++)v.includes(f[h])&&g.push(h);if(g.length===0)continue;const O=Math.floor(Math.random()*g.length),C=g[O],I=f.split("");I[C]="_";const P=I.join("");s.push({word:f,missingVowelIndex:C,correctWord:f,displayWord:P})}}a=s}function y(){if(a.length===0)return;u=!1,p=(p+1)%a.length;const e=a[p];c.innerHTML="",c.classList.remove("answered"),r.textContent="",r.className="feedback",l.disabled=!0,t.value="",t.disabled=!1,i.disabled=!1,t.focus(),e.displayWord.split("").forEach(n=>{const s=document.createElement("span");s.textContent=n,n==="_"&&s.classList.add("missing-vowel"),c.appendChild(s)})}function E(){if(u)return;u=!0,c.classList.add("answered");const e=t.value.toLowerCase(),n=a[p],s=n.word[n.missingVowelIndex];t.disabled=!0,i.disabled=!0,L++,o.textContent=L.toString();const d=c.querySelector(".missing-vowel");e===s?(x++,m.textContent=x.toString(),r.textContent="Correct!",r.className="feedback correct",d&&(d.textContent=s,d.classList.add("correct-answer"))):(r.textContent=`Incorrect. The correct word is: ${n.word}`,r.className="feedback incorrect",d&&(d.textContent=s,d.classList.add("correct-answer"),e.length>0&&(r.textContent+=` (you entered: ${e})`))),l.disabled=!1}function B(e){for(let n=e.length-1;n>0;n--){const s=Math.floor(Math.random()*(n+1));[e[n],e[s]]=[e[s],e[n]]}}l.addEventListener("click",y),i.addEventListener("click",E);let b=!1;t.addEventListener("keypress",e=>{e.key==="Enter"&&!u&&(E(),b=!0,setTimeout(()=>{b=!1},300))}),document.addEventListener("keypress",e=>{e.key==="Enter"&&u&&!b&&y()}),l.disabled=!0,i.disabled=!0,W()});
//# sourceMappingURL=index.0NrgosTd.js.map
